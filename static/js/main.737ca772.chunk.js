(this["webpackJsonpstudierendenfutter-frontend"]=this["webpackJsonpstudierendenfutter-frontend"]||[]).push([[0],{21:function(e,t,n){e.exports=n(47)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(19),c=n.n(i);n(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(9),s=n(6),u=n(20),o=n(4);n(27);function m(e){var t=e.title,n=e.children;return a.a.createElement("div",null,a.a.createElement("h1",{className:"sf-funnel-step-title"},t),n)}n(28);function d(e){var t=e.percent,n=void 0===t?0:t;return a.a.createElement("div",{className:"sf-progress-bar-wrapper"},a.a.createElement("label",{className:"sf-progress-bar-label",style:{marginLeft:n/2+"%"}},n.toFixed(0)," %"),a.a.createElement("div",{className:"sf-progress-bar",style:{width:n+"%"}}))}var h=n(2),f=n.n(h),p=n(7),g=n(8),E=n.n(g);function b(){return(b=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var v={BACKEND_URL:"http://api.studierendenfutter.de:8000"},k=v.BACKEND_URL+"/userCategories";function w(){return function(e){return b.apply(this,arguments)}(k)}var y=v.BACKEND_URL+"/users";function C(e){!function(e,t){E.a.post(e,t)}(y,e)}var j=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],O=["Gerichte mit Fleisch","Gerichte mit Fisch","Vegetarische Gerichte","Vegane Gerichte"],L={students:"Preis f\xfcr Studierende",employees:"Preis f\xfcr Besch\xe4ftigte der Universit\xe4t",other:"Preis f\xfcr Nichtstudierende"};function x(){var e=Object(r.useState)({email:"",days:[!0,!0,!0,!0,!0,!0],semesterBreaks:!0,meals:[!0,!0,!0,!0],places:[!0,!0,!0],userCategoryId:1,name:"",city:"M\xfcnster"}),t=Object(o.a)(e,2),n=t[0],i=t[1],c=function(){var e=Object(r.useState)({}),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(p.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:for(t=e.sent,n={},r=0;r<t.length;r++)n[t[r].name]=t[r].id;a(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n}(),h=Object(r.useState)(0),g=Object(o.a)(h,2),E=g[0],b=g[1],v=function(){b(E+1)},k=function(e,t){i(Object(u.a)({},n,Object(s.a)({},e,t)))},y=function(e){var t=Object(l.a)(n.days);t[e]=!t[e],k("days",t)},x=function(e){var t=Object(l.a)(n.meals);t[e]=!t[e],k("meals",t)},B=a.a.createElement("button",{onClick:v},"Weiter");return a.a.createElement("div",null,0===E&&a.a.createElement(m,{title:"Hey lass uns loslegen! Wie m\xf6chtest du dich anmelden?"},a.a.createElement("button",{onClick:v},"In 7 Fragen schnell zum Individuellen Lunchletter"),a.a.createElement("button",{onClick:function(){b(99)}},"Direkt anmelden ohne individuelle Einstellungen")),1===E&&a.a.createElement(m,{title:"Alles klar: Verr\xe4tst du uns zuerst, an welche Mail-Adresse wir den Lunchletter schicken sollen?"},a.a.createElement("input",{type:"text",value:n.email,onChange:function(e){k("email",e.target.value)}}),B),2===E&&a.a.createElement(m,{title:"Perfekt du bekommst den Lunchletter an ".concat(n.email,"! An welchen Tagen m\xf6chtest du den Lunchletter haben?")},j.map((function(e,t){return a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",key:e,checked:n.days[t],onClick:function(){y(t)}})," ",a.a.createElement("label",{onClick:function(){y(t)}},e))})),B),3===E&&a.a.createElement(m,{title:"Auch in den Semesterferien?"},a.a.createElement("button",{onClick:function(){k("semesterBreaks",!0),v()}},"ja"),a.a.createElement("button",{onClick:function(){k("semesterBreaks",!1),v()}},"nein")),4===E&&a.a.createElement(m,{title:"Ist notiert. Welche Gerichte sollen wir in deinen pers\xf6nlichen Lunchletter aufnehmen?"},O.map((function(e,t){return a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",key:e,checked:n.meals[t],onClick:function(){x(t)}})," ",a.a.createElement("label",{onClick:function(){x(t)}},e))})),B),5===E&&a.a.createElement(m,{title:"Super, wir haben es fast geschafft. Jetzt m\xfcssen wir nur noch wissen, welchen Preis wir dir f\xfcr die Mittagsgerichte anzeigen sollen:"},Object.keys(L).map((function(e){return a.a.createElement("div",null,a.a.createElement("input",{type:"radio",key:e,checked:c[e]===n.userCategoryId,onClick:function(){return k("userCategoryId",c[e])}}),a.a.createElement("label",{onClick:function(){return k("userCategoryId",c[e])}},L[e]))})),B),6===E&&a.a.createElement(m,{title:"Fertig, wir haben deinen Lunchletter konfiguriert. Sehr gerne w\xfcrden wir dich auch mit Namen ansprechen:"},a.a.createElement("input",{type:"text",placeholder:"Wie hei\xdft du?",onChange:function(e){return k("name",e.target.value)}}),a.a.createElement("label",null,"Wir verwenden deinen Namen ausschlie\xdflich f\xfcr die Personalisierung deiner Mails."),a.a.createElement("button",{onClick:function(){C(n),v()}},"Weiter")),7===E&&a.a.createElement(m,{title:"Cool ".concat(n.name,"! Wir haben dir gerade eine Best\xe4tigungsmail gesendet. Bitte best\xe4tige den\n        Link um ab sofort den Lunchletter zu erhalten.")}),99===E&&a.a.createElement(m,{title:"Flott zu deinem Lunchletter: Dann ben\xf6tigen wir nur noch deine Mailadresse:"},a.a.createElement("input",{type:"text"})),a.a.createElement("div",{style:{marginTop:"10px"}},a.a.createElement(d,{percent:100*(E+1)/8})))}c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.737ca772.chunk.js.map
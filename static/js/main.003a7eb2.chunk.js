(this["webpackJsonpstudierendenfutter-frontend"]=this["webpackJsonpstudierendenfutter-frontend"]||[]).push([[0],{32:function(e,t,n){e.exports=n(63)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c);n(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(17),u=n(11),s=n(29),o=n(5);n(38);function m(e){var t=e.title,n=e.children;return r.a.createElement("div",null,r.a.createElement("h1",{className:"sf-funnel-step-title"},t),n)}n(39);function d(e){var t=e.percent,n=void 0===t?0:t;return r.a.createElement("div",{className:"sf-progress-bar-wrapper"},r.a.createElement("label",{className:"sf-progress-bar-label",style:{marginLeft:n/2+"%"}},n.toFixed(0)," %"),r.a.createElement("div",{className:"sf-progress-bar",style:{width:n+"%"}}))}var f=n(6),h=n.n(f),p=n(7),E=n(12),g=n.n(E);function v(e){return b.apply(this,arguments)}function b(){return(b=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var k={BACKEND_URL:"http://api.studierendenfutter.de:8000"},w=k.BACKEND_URL+"/userCategories";function y(e,t){return g.a.post(e,t)}var C=k.BACKEND_URL+"/users";var j=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],O=["Gerichte mit Fleisch","Gerichte mit Fisch","Vegetarische Gerichte","Vegane Gerichte"],x={students:"Preis f\xfcr Studierende",employees:"Preis f\xfcr Besch\xe4ftigte der Universit\xe4t",other:"Preis f\xfcr Nichtstudierende"};function L(){var e=Object(a.useState)({email:"",days:[!0,!0,!0,!0,!0,!0],semesterBreaks:!0,meals:[!0,!0,!0,!0],places:[!0,!0,!0],userCategoryId:1,name:"",city:"M\xfcnster"}),t=Object(o.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(w);case 2:for(t=e.sent,n={},a=0;a<t.length;a++)n[t[a].name]=t[a].id;r(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n}(),f=Object(a.useState)(0),E=Object(o.a)(f,2),g=E[0],b=E[1],k=function(){b(g+1)},L=function(e,t){c(Object(s.a)({},n,Object(u.a)({},e,t)))},B=function(e){var t=Object(l.a)(n.days);t[e]=!t[e],L("days",t)},I=function(e){var t=Object(l.a)(n.meals);t[e]=!t[e],L("meals",t)},N=r.a.createElement("button",{onClick:k},"Weiter");return i?r.a.createElement("div",null,0===g&&r.a.createElement(m,{title:"Hey lass uns loslegen! Wie m\xf6chtest du dich anmelden?"},r.a.createElement("button",{onClick:k},"In 7 Fragen schnell zum Individuellen Lunchletter"),r.a.createElement("button",{onClick:function(){b(99)}},"Direkt anmelden ohne individuelle Einstellungen")),1===g&&r.a.createElement(m,{title:"Alles klar: Verr\xe4tst du uns zuerst, an welche Mail-Adresse wir den Lunchletter schicken sollen?"},r.a.createElement("input",{type:"text",value:n.email,onChange:function(e){L("email",e.target.value)}}),N),2===g&&r.a.createElement(m,{title:"Perfekt du bekommst den Lunchletter an ".concat(n.email,"! An welchen Tagen m\xf6chtest du den Lunchletter haben?")},j.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",key:e,checked:n.days[t],onClick:function(){B(t)}})," ",r.a.createElement("label",{onClick:function(){B(t)}},e))})),N),3===g&&r.a.createElement(m,{title:"Auch in den Semesterferien?"},r.a.createElement("button",{onClick:function(){L("semesterBreaks",!0),k()}},"ja"),r.a.createElement("button",{onClick:function(){L("semesterBreaks",!1),k()}},"nein")),4===g&&r.a.createElement(m,{title:"Ist notiert. Welche Gerichte sollen wir in deinen pers\xf6nlichen Lunchletter aufnehmen?"},O.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",key:e,checked:n.meals[t],onClick:function(){I(t)}})," ",r.a.createElement("label",{onClick:function(){I(t)}},e))})),N),5===g&&r.a.createElement(m,{title:"Super, wir haben es fast geschafft. Jetzt m\xfcssen wir nur noch wissen, welchen Preis wir dir f\xfcr die Mittagsgerichte anzeigen sollen:"},Object.keys(x).map((function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"radio",key:e,checked:i[e]===n.userCategoryId,onClick:function(){return L("userCategoryId",i[e])}}),r.a.createElement("label",{onClick:function(){return L("userCategoryId",i[e])}},x[e]))})),N),6===g&&r.a.createElement(m,{title:"Fertig, wir haben deinen Lunchletter konfiguriert. Sehr gerne w\xfcrden wir dich auch mit Namen ansprechen:"},r.a.createElement("input",{type:"text",placeholder:"Wie hei\xdft du?",onChange:function(e){return L("name",e.target.value)}}),r.a.createElement("label",null,"Wir verwenden deinen Namen ausschlie\xdflich f\xfcr die Personalisierung deiner Mails."),r.a.createElement("button",{onClick:function(){y(C,n),k()}},"Weiter")),7===g&&r.a.createElement(m,{title:"Cool ".concat(n.name,"! Wir haben dir gerade eine Best\xe4tigungsmail gesendet. Bitte best\xe4tige den\n        Link um ab sofort den Lunchletter zu erhalten.")}),99===g&&r.a.createElement(m,{title:"Flott zu deinem Lunchletter: Dann ben\xf6tigen wir nur noch deine Mailadresse:"},r.a.createElement("input",{type:"text"})),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(d,{percent:100*(g+1)/8}))):r.a.createElement("div",null,"Hey")}var B=n(31),I=n(1);function N(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function S(){var e=N("uId"),t=N("code");return Object(a.useEffect)((function(){!function(e,t){y(k.BACKEND_URL+"/users/"+e+"/confirm",{code:t})}(e,t)})),r.a.createElement("div",null,"Confirmed")}function A(e){var t=e.uId,n=e.code;return v(k.BACKEND_URL+"/users/"+t+"/settings?code="+n)}function D(){var e=function(e,t){var n=Object(a.useState)({}),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(!0),u=Object(o.a)(l,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){function n(){return(n=Object(p.a)(h.a.mark((function n(){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A({uId:e,code:t});case 2:a=n.sent,i(a),m(!1);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),[c,i,s]}(N("uId"),N("code")),t=Object(o.a)(e,3),n=t[0];return t[2]?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,JSON.stringify(n))}function W(){return Object(a.useEffect)((function(){console.log("Cancel here!")})),r.a.createElement("div",null,"Canceled")}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B.a,null,r.a.createElement(I.c,null,r.a.createElement(I.a,{path:"/confirm"},r.a.createElement(S,null)),r.a.createElement(I.a,{path:"/cancel"},r.a.createElement(W,null)),r.a.createElement(I.a,{path:"/settings"},r.a.createElement(D,null)),r.a.createElement(I.a,{path:"/funnel"},r.a.createElement(L,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.003a7eb2.chunk.js.map